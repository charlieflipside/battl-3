<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battl-3: Tactical RPG</title>
    <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
    <!-- Game Setup Modal -->
    <div id="game-setup-modal" class="modal">
        <div class="modal-content">
            <h2>Game Setup</h2>
            
            <!-- Map Selection -->
            <div class="setup-section">
                <h3>Select Map</h3>
                <div class="map-selection">
                    <div class="map-options">
                        <label>
                            <input type="radio" name="map-select" value="DEFAULT" checked>
                            <span>üèûÔ∏è Basic Arena</span>
                        </label>
                        <label>
                            <input type="radio" name="map-select" value="SMALL_ARENA">
                            <span>üèüÔ∏è Small Arena</span>
                        </label>
                        <label>
                            <input type="radio" name="map-select" value="RIVER_CROSSING">
                            <span>üåä River Crossing</span>
                        </label>
                    </div>
                    <div class="map-preview">
                        <canvas id="map-preview-canvas" width="300" height="300"></canvas>
                        <div id="map-description"></div>
                    </div>
                </div>
            </div>
            
            <!-- Team Selection -->
            <div class="setup-section">
                <h3>Select Your Team (Choose 3 Characters)</h3>
                <div class="team-selection">
                    <div class="character-option">
                        <h4>Mage</h4>
                        <div class="character-stats">
                            <p>HP: 20 | Attack: 8 | AC: 15</p>
                            <p>Move: 30 | Save: 6</p>
                            <p>Bonus vs: Fighter (+3)</p>
                        </div>
                        <div class="character-counter">
                            <button class="counter-btn minus" data-class="MAGE">-</button>
                            <span class="counter" id="mage-counter">1</span>
                            <button class="counter-btn plus" data-class="MAGE">+</button>
                        </div>
                    </div>
                    <div class="character-option">
                        <h4>Fighter</h4>
                        <div class="character-stats">
                            <p>HP: 30 | Attack: 5 | AC: 18</p>
                            <p>Move: 60 | Save: 3</p>
                            <p>Bonus vs: Ranger (+3)</p>
                        </div>
                        <div class="character-counter">
                            <button class="counter-btn minus" data-class="FIGHTER">-</button>
                            <span class="counter" id="fighter-counter">1</span>
                            <button class="counter-btn plus" data-class="FIGHTER">+</button>
                        </div>
                    </div>
                    <div class="character-option">
                        <h4>Ranger</h4>
                        <div class="character-stats">
                            <p>HP: 25 | Attack: 4 | AC: 18</p>
                            <p>Move: 30 | Save: 5</p>
                            <p>Bonus vs: Mage (+3)</p>
                        </div>
                        <div class="character-counter">
                            <button class="counter-btn minus" data-class="RANGER">-</button>
                            <span class="counter" id="ranger-counter">1</span>
                            <button class="counter-btn plus" data-class="RANGER">+</button>
                        </div>
                    </div>
                </div>
                <div class="team-summary">
                    <p>Selected: <span id="total-selected">3</span>/3 characters</p>
                </div>
            </div>
            
            <div class="setup-controls">
                <button id="start-game-btn" class="big-btn">Start Game</button>
            </div>
        </div>
    </div>

    <div class="game-container">
        <!-- Header -->
        <div class="game-header">
            <h1>Battl-3</h1>
            <div class="turn-info">
                <span id="current-turn">Current Turn: Player 1</span>
            </div>
            <!-- AI Controls -->
            <div class="ai-controls">
                <label class="ai-toggle-label">
                    <input type="checkbox" id="ai-toggle" checked>
                    <span>AI Player 2</span>
                </label>
                <select id="ai-difficulty">
                    <option value="1">Easy</option>
                    <option value="2" selected>Medium</option>
                    <option value="3">Hard</option>
                </select>
            </div>
        </div>
        
        <!-- Character Info (Left Column) -->
        <div class="character-info">
            <div id="character-header">
                <div id="character-stats"></div>
            </div>
            
            <!-- Action buttons -->
            <div class="action-buttons">
                <button id="move-btn" class="action-btn big-btn">
                    <span>‚üø</span> Move
                </button>
                <button id="attack-btn" class="action-btn big-btn">
                    <span>‚öîÔ∏è</span> Attack
                </button>
                <button id="special-btn" class="action-btn big-btn">
                    <span>‚ú®</span> Special
                </button>
                <button id="done-btn" class="action-btn big-btn">
                    <span>‚úì</span> Done
                </button>
            </div>
            
            <!-- End Turn button separated -->
            <div class="end-turn-container">
                <button id="end-turn-btn" class="action-btn big-btn">
                    <span>‚û§</span> End Turn
                </button>
            </div>
        </div>
        
        <!-- Battlefield (Center Column) -->
        <div class="battlefield-container">
            <canvas id="battlefield" width="800" height="600"></canvas>
            <div id="terrain-info" class="terrain-info"></div>
        </div>
        
        <!-- Battle Log (Right Column) -->
        <div class="game-log">
            <h3>Battle Log</h3>
            <div id="log-entries" class="log-entries"></div>
        </div>
    </div>

    <!-- Game scripts -->
    <script type="module" src="./src/game.js"></script>
</body>
</html>